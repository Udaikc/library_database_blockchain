<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Scanner</title>
</head>

<body>
    <h1>QR Code Scanner</h1>
    <video id="cameraFeed" width="400" height="300" autoplay></video>
    <p id="qrResult">QR Code result will be displayed here</p>

    <script src="https://cdn.jsdelivr.net/npm/jsqr@2.0.0/build/jsQR.js"></script>
    <script>
        // Access the camera and display the feed
        navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
            .then(stream => {
                const videoElement = document.getElementById('cameraFeed');
                videoElement.srcObject = stream;

                // Scan QR codes from camera feed
                const canvasElement = document.createElement('canvas');
                const context = canvasElement.getContext('2d');

                setInterval(() => {
                    canvasElement.width = videoElement.videoWidth;
                    canvasElement.height = videoElement.videoHeight;
                    context.drawImage(videoElement, 0, 0, canvasElement.width, canvasElement.height);

                    const imageData = context.getImageData(0, 0, canvasElement.width, canvasElement.height);
                    const code = jsQR(imageData.data, imageData.width, imageData.height);

                    if (code) {
                        document.getElementById('qrResult').innerText = code.data;
                    } else {
                        document.getElementById('qrResult').innerText = 'No QR code detected';
                    }
                }, 1000);
            })
            .catch(error => {
                console.error('Error accessing camera:', error);
            });
    </script>
</body>

</html>